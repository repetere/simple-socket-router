!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).els={})}(this,function(e){"use strict";function t({socket:e,router:t}){return async function(n,o){const[r,s]=n,c=t.match(r),u={path:r,body:s,socket:e};let a=e=>e;const f={send(t){try{e.emit(r,a(t)),a=null}catch(t){e.emit("error",new Error("Response already sent"))}}};c&&(u.params=c.params,u.splats=c.splats,c.fn(u,f,c)),o()}}e.router=function({socket:e,router:n}){e.use?e.use(t({socket:e,router:n})):function(e,t){e._onevent=e.onevent;const n=()=>{};e.onevent=function(o){t(o.data,n);const r=new Array(arguments.length);for(var s=0;s<r.length;++s)r[s]=arguments[s];e._onevent.apply(e,r)}}(e,t({socket:e,router:n}))},Object.defineProperty(e,"__esModule",{value:!0})});
